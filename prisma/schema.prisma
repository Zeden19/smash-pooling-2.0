generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Session {
  id        String   @id
  userId    String
  expiresAt DateTime

  user User @relation(references: [id], fields: [userId], onDelete: Cascade)
}

model User {
  id                String    @id
  startggId         Int       @unique
  slug              String
  sessions          Session[]
  carpoolsDriving   Carpool[] @relation(name: "CarpoolDriver") // many to one
  carpoolsAttending Carpool[] @relation(name: "CarpoolAttendee") // many to many
}

model Carpool {
  id        Int    @id @default(autoincrement())
  driver    User   @relation(fields: [driverId], references: [id], name: "CarpoolDriver")
  driverId  String
  attendees User[] @relation(name: "CarpoolAttendee")

  // We should eventually transition to placeIds since they will be far easier to maintain and get data
  originLat       Int
  originLng       Int
  originName      String
  destinationLat  Int
  destinationLng  Int
  destinationName Int

  tournamentSlug String
  path           Json
  price          Int
  description    Int
}
